# 11.6 音乐下载方法封装

>##### 学习Tips：我们对于Http请求封装过实用工具类，那么对于歌曲的下载，也是我们MP3播放器经常使用的，所以我们也需要将歌曲下载方法进行封装为工具类。

## 1. 学习视频

<iframe frameborder="0" width="640" height="498" src="https://v.qq.com/iframe/player.html?vid=z0180bhmznp&tiny=0&auto=0" allowfullscreen></iframe>

## 2. 音乐异步下载方法封装

```
  class MusicAnycTask extends AsyncTask<String, Void, Void>{

      @Override
      protected Void doInBackground(String... params) {
          if(DataUtils.getAllList().size()==0) {
              DataUtils.initData(context,params[0]);
          }
          return null;
      }

      @Override
      protected void onPostExecute(Void result) {
          startActivity(new Intent(context, Mp3ListActivity.class));
          finish();
      }

  }
```

```
  //创建异步任务对象
  MusicAnycTasktask = newMusicAnycTask();
  task.execute(uri);
```